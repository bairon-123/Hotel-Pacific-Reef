<ion-header class="site-header">
  <ion-toolbar color="light">
    <div class="container navbar">
      <div class="brand">
        <ion-icon name="sparkles-outline"></ion-icon>
        <span>Hotel Pacific Reef</span>
      </div>

      <nav class="menu">
        <a routerLink="/home" routerLinkActive="active">Home</a>
        <a routerLink="/reservas" routerLinkActive="active">Reservas</a>
        <a routerLink="/perfil" routerLinkActive="active">Perfil</a>
        <span *ngIf="email" class="user-pill" [title]="email">Hola, <b>{{ email }}</b></span>
        <a href="#" class="logout" (click)="logout($event)">Cerrar sesiÃ³n</a>
      </nav>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="site-content ion-padding page-content">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Mi perfil</ion-card-title>
      <ion-card-subtitle>Datos de tu cuenta</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item lines="full">
          <ion-label>
            <h2>Correo</h2>
            <p>{{ email }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Mis reservas -->
<ion-card>
  <ion-card-header>
    <ion-card-title>Mis reservas</ion-card-title>
    <ion-card-subtitle>Guardadas en este dispositivo</ion-card-subtitle>
  </ion-card-header>

  <ion-card-content>
    <ion-list *ngIf="reservas && reservas.length > 0; else sinReservas">
      <ion-item *ngFor="let r of reservas; trackBy: trackById" class="res-item">
        <ion-label>
          <h3>#{{ r.id }} â€¢ {{ r.nombreHabitacion }} ({{ r.tipo | titlecase }})</h3>
          <p>ðŸ—“ {{ (r.llegada || '').slice(0,10) }} â†’ {{ (r.salida || '').slice(0,10) }} â€¢ {{ r.noches }} noche(s)</p>
          <p>ðŸ’µ {{ currency(r.precioNoche) }} / noche â€¢ Total: <b>{{ currency(r.total) }}</b></p>
        </ion-label>
        <ion-button fill="clear" color="danger" slot="end" (click)="borrarReserva(r)">
          <ion-icon name="trash-outline"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-list>

    <ng-template #sinReservas>
      <ion-text color="medium">
        AÃºn no tienes reservas. Ve a <a routerLink="/reservas">Reservas</a> para crear una.
      </ion-text>
    </ng-template>
  </ion-card-content>
</ion-card>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>Â© 2025 Hotel Pacific Reef â€” Todos los derechos reservados</p>
    </div>
  </footer>
</ion-content>
